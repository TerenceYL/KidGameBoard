<UserControl
    x:Class="KidGameBoard.Views.DailyRecordMaintain"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="clr-namespace:KidGameBoard.ViewModels"
    Background="White">
    <UserControl.DataContext>
        <vm:DailyRecordMaintainViewModel />
    </UserControl.DataContext>
    <ScrollViewer Margin="5" VerticalScrollBarVisibility="Visible">
        <StackPanel Margin="20">
            <StackPanel Margin="0,0,0,10" Orientation="Horizontal">
                <Label VerticalAlignment="Center" Content="日期：" />
                <DatePicker SelectedDate="{Binding SelectedDate}" />
            </StackPanel>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="1*" />
                    <ColumnDefinition Width="1*" />
                </Grid.ColumnDefinitions>
                <!--  人員1  -->
                <Grid Grid.Column="0">
                    <StackPanel>
                        <ComboBox
                            DisplayMemberPath="Name"
                            ItemsSource="{Binding People}"
                            SelectedItem="{Binding SelectedPerson1}" />
                        <TextBlock
                            Margin="0,10,0,0"
                            FontWeight="Bold"
                            Text="{Binding TotalScore1, StringFormat=總分：{0}}" />
                        <ItemsControl ItemsSource="{Binding WorkItems}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <ToggleButton Content="{Binding Name}">
                                        <ToggleButton.IsChecked>
                                            <MultiBinding Converter="{StaticResource WorkItemCheckedMultiConverter}" Mode="OneWay">
                                                <Binding Path="DataContext.CheckedWorkItemIds1" RelativeSource="{RelativeSource AncestorType=UserControl}" />
                                                <Binding Path="Id" />
                                            </MultiBinding>
                                        </ToggleButton.IsChecked>
                                        <ToggleButton.Command>
                                            <Binding Path="DataContext.ToggleWorkItem1Command" RelativeSource="{RelativeSource AncestorType=UserControl}" />
                                        </ToggleButton.Command>
                                        <ToggleButton.CommandParameter>
                                            <Binding />
                                        </ToggleButton.CommandParameter>
                                    </ToggleButton>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                        <TextBlock
                            Margin="0,10,0,0"
                            FontWeight="Bold"
                            Text="{Binding TotalScore1, StringFormat=總分：{0}}" />
                    </StackPanel>
                </Grid>
                <!--  人員2  -->
                <Grid Grid.Column="1">
                    <StackPanel>
                        <ComboBox
                            DisplayMemberPath="Name"
                            ItemsSource="{Binding People}"
                            SelectedItem="{Binding SelectedPerson2}" />
                        <TextBlock
                            Margin="0,10,0,0"
                            FontWeight="Bold"
                            Text="{Binding TotalScore2, StringFormat=總分：{0}}" />
                        <ItemsControl ItemsSource="{Binding WorkItems}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <ToggleButton Content="{Binding Displayname}">
                                        <ToggleButton.IsChecked>
                                            <MultiBinding Converter="{StaticResource WorkItemCheckedMultiConverter}" Mode="OneWay">
                                                <Binding Path="DataContext.CheckedWorkItemIds2" RelativeSource="{RelativeSource AncestorType=UserControl}" />
                                                <Binding Path="Id" />
                                            </MultiBinding>
                                        </ToggleButton.IsChecked>
                                        <ToggleButton.Command>
                                            <Binding Path="DataContext.ToggleWorkItem2Command" RelativeSource="{RelativeSource AncestorType=UserControl}" />
                                        </ToggleButton.Command>
                                        <ToggleButton.CommandParameter>
                                            <Binding />
                                        </ToggleButton.CommandParameter>
                                    </ToggleButton>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                        <TextBlock
                            Margin="0,10,0,0"
                            FontWeight="Bold"
                            Text="{Binding TotalScore2, StringFormat=總分：{0}}" />
                    </StackPanel>
                </Grid>
            </Grid>
        </StackPanel>
    </ScrollViewer>
</UserControl>
